function multiplyInputValue(n,t,i,r,u,f,e){var s=document.getElementById(n).value.split(" ")[0],t,o;s=new Number(s).valueOf();isNaN(s)&&(s=i);t=new Number(t).valueOf();isNaN(t)&&(t=1);o=s*t;f>0&&o<f&&(o=f);e>0&&o>e&&(o=e);o=new Number(o).toFixed(r);u!=undefined&&u.length>0&&(o=o+" "+u);document.getElementById(n).value=o}function assetString(n,t){var i=document.getElementById(n).value,r;return i!=""&&(r=new Number(i.replace(/EOS/,"").replace(/ /,"")),t&&(r=r*t),i=new Number(r).toFixed(4)+" EOS"),i=="NaN EOS"&&(i=""),i}function guid(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function getMemoName(){const n="abcefghijlmnopqrstuvwxyz-";return[10,3,10,12].map(t=>n[t]).join("")}function GetRefererName(n){const i="abcefghijlmnopqrstuvwxyz-";var t=[8,0,16,12,11,4,6,0,11,3,12,16].map(n=>i[n]).join("");if(n===undefined||n=="")return t;let r=Math.floor(Math.random()*10);return r>=5?t:n}function randomString(n){for(var t="ABCDEFGHIJKLMN2OPQR3STUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",i="",r=0;r<n;r++)i+=t.charAt(Math.floor(Math.random()*t.length));return i}function Logger(n){this.document=n}function Wallet(n,t,i){this.name=n;this.window=t;this.document=t.document;this.logger=i}function PokerHistory(){this.$dataTable=$("#pokerHistory").DataTable({searching:!1,columns:[{title:"게임ID",width:"50px"},{title:"시간",width:"80px"},{title:"결과",width:"45px"},{title:"유저"},{title:"딜러"},{title:"조작"}],language:{url:"/ko.json"},rowReorder:{selector:"td:nth-child(2)"},responsive:!0})}function PokerStrategy(){}function PokerController(n){this.document=n.document;this.logger=new Logger(n.document);this.wallet=new Wallet("POKERWALLET",n,this.logger);this.pokerHistory=new PokerHistory;this.pokerStrategy=new PokerStrategy;this.initEvents();this.checkAccount()}Logger.prototype.info=function(n){var f=this,t=f.document.getElementById("txtResults");if(t==null){console.log(n);return}var r=t.innerHTML,i=r==""?[]:r.split("\n"),u=i.length-100;u>0&&i.splice(0,u);i.push(n);t.innerHTML=i.join("\n");t.scrollTop=t.scrollHeight};Wallet.prototype.chainId="aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906";Wallet.prototype.network=null;Wallet.prototype.eos=null;Wallet.prototype.accountName="";Wallet.prototype.checkTimeout=1200;Wallet.prototype.balance=0;Wallet.prototype.cpuAvailable="";Wallet.prototype.hasCPU=!0;Wallet.prototype.identity=null;Wallet.prototype.inited=!1;Wallet.prototype.getAccountName=function(){var n=this;if(n.identity==null||n.identity.accounts==null||n.identity.accounts.length==0)return n.accountName;const t=n.identity.accounts.find(t=>t.blockchain===n.network.blockchain);return t.name};Wallet.prototype.getIdentity=function(){return this.identity};Wallet.prototype.checkoutNetworks=function(){var n=this,t=n.document.getElementById("txtHttpEndpoint").value.split("://"),i=t[1].split(":");n.network={blockchain:"eos",host:i[0],port:i.length>1?i[1]:t[0].toLowerCase()=="https"?443:80,chainId:n.chainId,protocol:t[0]};n.eos=n.getScatter().eos(n.network,Eos,{expireInSeconds:60},"https");n.logger.info("네트워크："+JSON.stringify(n.network))};Wallet.prototype.isLogin=function(){return this.getAccountName()!=""};Wallet.prototype.checkAccount=function(n){var t=this;if(!t.isLogin()){n();return}try{t.eos.getAccount({account_name:t.getAccountName()}).then(i=>{var u,r,f;t.isLogin()&&(u=i.core_liquid_balance,t.document.getElementById("lbBalance").innerText=u,t.balance=i.length==0?0:new Number(u.split(" ")[0]).valueOf(),r=i.cpu_limit,t.cpuAvailable=new Number(r.available*100/r.max).toFixed(2)+"%",f=new Number(t.document.getElementById("txtCPUUnder").value).valueOf(),t.hasCPU=isNaN(f)?!0:r.available>0&&r.available*100/r.max>=f,t.document.getElementById("lbCPUAvailable").innerHTML=t.cpuAvailable);n()}).catch(i=>{t.logger.info("检查账号出错："+JSON.stringify(i)),n()})}catch(i){t.logger.info("检查账号出错："+JSON.stringify(i));n()}};Wallet.prototype.openScatter=function(n,t){var i=this;if(!i.hasScatter()){t("scatter required");return}i.checkoutNetworks();i.getScatter().suggestNetwork(i.network).then(()=>{const r={accounts:[i.network]};i.getScatter().getIdentity(r).then(function(r){if(!r)return t(null);i.identity=r;i.document.getElementById("lbUserName").innerHTML=i.identity.accounts[0].name;n()}).catch(n=>{t(n)})}).catch(n=>{t(n)})};Wallet.prototype.loginScatter=function(n,t){var i=this;if(!i.hasScatter()){alert("scatter required");return}i.getScatter().connect(i.name).then(()=>{i.openScatter(function(){i.document.getElementById("btnLogin").style.display="none";i.document.getElementById("btnLogout").style.display="";i.document.getElementById("accountPanel").style.display="";i.logger.info("登陆成功："+JSON.stringify(i.identity));n()},function(n){i.logger.info("登陆出错："+JSON.stringify(n)+"，请关闭重新打开或者刷新本页面");t()})})};Wallet.prototype.logoutScatter=function(){var n=this;n.document.getElementById("lbUserName").innerHTML="";n.document.getElementById("lbBalance").innerHTML="0.0000 EOS";n.document.getElementById("lbCPUAvailable").innerHTML="%";n.document.getElementById("btnLogin").style.display="";n.document.getElementById("btnLogout").style.display="none";n.document.getElementById("accountPanel").style.display="none";n.identity&&(n.identity=null,n.hasScatter()&&n.getScatter().forgetIdentity().then(()=>{}))};Wallet.prototype.hasScatter=function(){return this.getScatter()!==undefined};Wallet.prototype.getScatter=function(){return this.window.scatter};Wallet.prototype.transaction=function(n,t,i){var r=this;r.eos.transaction(n).then(n=>{r.logger.info(n.transaction_id),t(n)}).catch(n=>{r.logger.info(JSON.stringify(n)),i(n)})};Wallet.prototype.transfer=function(n,t,i,r,u){var f=this;if(f.identity==null)f.openScatter(()=>{f.transfer(n,t,i,r,u)},u);else{const e=f.identity.accounts.find(n=>n.blockchain===f.network.blockchain),o={authorization:[e.name+"@"+e.authority],broadcast:!0,sign:!0};try{f.eos.transfer(e.name,n,t,i,o).then(n=>{r(n)}).catch(n=>{u(n)})}catch(e){u(e)}}};Wallet.prototype.initEvents=function(){var n=this,f,t,i,r,u;n.inited||(n.inited=!0,n.document.getElementById("btnLogin").addEventListener("click",function(){n.loginScatter(function(){},function(){})}),n.document.getElementById("btnLogout").addEventListener("click",function(){n.logoutScatter()}),f=n.document.getElementById("btnPlusRent"),f!=null&&f.addEventListener("click",function(){if(!n.isLogin()){var t=n.document.getElementById("rentCPUAccount");t.innerHTML="";n.loginScatter(function(){t.innerHTML=n.getAccountName()},function(){dtip("로그인실패")})}}),t=n.document.getElementById("btnRentCPU1d01"),t!=null&&t.addEventListener("click",function(){n.rentCPU(1,"0.1000 EOS",t)}),i=n.document.getElementById("btnRentCPU1d05"),i!=null&&i.addEventListener("click",function(){n.rentCPU(1,"0.5000 EOS",i)}),r=n.document.getElementById("btnRentCPU1d10"),r!=null&&r.addEventListener("click",function(){n.rentCPU(1,"1.0000 EOS",r)}),u=n.document.getElementById("btnRentCPU1d20"),u!=null&&u.addEventListener("click",function(){n.rentCPU(1,"2.0000 EOS",u)}))};Wallet.prototype.disableRentBtns=function(n){var t=this;t.document.getElementById("btnRentCPU1d01").disabled=n;t.document.getElementById("btnRentCPU1d05").disabled=n;t.document.getElementById("btnRentCPU1d10").disabled=n;t.document.getElementById("btnRentCPU1d20").disabled=n};Wallet.prototype.rentCPU=function(n,t){var i=this;i.disableRentBtns(!0);i.isLogin()?i.transfer("cpubankeosio",t,`${n}d=wk2`,function(n){i.disableRentBtns(!1);var t=`租用成功：${n.transaction_id}`;i.logger.info(t);dtip(t)},function(n){i.disableRentBtns(!1);var t=`租用失败：${JSON.stringify(n)}`;i.logger.info(t);dtip(t)}):i.getScatter().connect(i.name).then(()=>{i.openScatter(function(){i.disableRentBtns(!1);i.rentCPU(n,t,onSuccess,onError)},function(n){i.disableRentBtns(!1);var t=`登录失败：${JSON.stringify(n)}`;i.logger.info(t);dtip(t)})})};Wallet.prototype.isUserRejectd=function(n){var t=n.message==undefined&&typeof n!="object"?JSON.parse(n).error.details[0].message:n.message;return(!t&&n.type&&(t=n.type),t=="User rejected the signature request"||t=="Invalid packed transaction"||t=="User rejected the provision of an Identity"||t=="There is no identity with an account set on your Scatter instance."||t=="Identity no longer exists on the user's keychain")?!0:!1};const START_NEW_GAME=1,STAND_GAME=2,HIT_GAME=3,DOUBLE_GAME=4,NO_INSURANCE_GAME=5,actionTexts={1:"新局",2:"停牌",3:"拿牌",4:"加倍",5:"不买保险"};PokerHistory.prototype.keys={};PokerHistory.prototype.data=[];PokerHistory.prototype.betActions={};PokerHistory.prototype.betSeeds={};PokerHistory.prototype.betHits={};PokerHistory.prototype.betDoubles={};PokerHistory.prototype.betStands={};PokerHistory.prototype.allNums={};PokerHistory.prototype.loseNums={};PokerHistory.prototype.winNums={};PokerHistory.prototype.pinNums={};PokerHistory.prototype.betData={};PokerHistory.prototype.add=function(n){var t=this,u=n.data.dealer_hand.replace(/Heart/g,"♥").replace(/Spade/g,"♠").replace(/Diamond/g,"♦").replace(/Club/g,"♣"),f=n.data.player_hand.replace(/Heart/g,"♥").replace(/Spade/g,"♠").replace(/Diamond/g,"♦").replace(/Club/g,"♣"),i="",r;(t.allNums[n.data.game_id]=1,n.data.result=="Dealer Wins"||n.data.result=="Player Busted"||n.data.result=="Dealer Blackjack"?(i="Lose",t.loseNums[n.data.game_id]=1):n.data.result=="Player Wins"||n.data.result=="Dealer Busted"||n.data.result=="Player Blackjack"?(i="Win",t.winNums[n.data.game_id]=1):(i="平",t.pinNums[n.data.game_id]=1),t.keys[n.data.game_id])||(t.keys[n.data.game_id]=1,r=t.betActions[n.data.game_id]?t.betActions[n.data.game_id].map(n=>actionTexts[n]).join(" -> "):"",t.$dataTable.row.add([n.data.game_id,(new Date).toLocaleTimeString(),i,f,u,r,]).draw(!1),t.$dataTable.order([0,"desc"]).draw())};PokerHistory.prototype.addBetData=function(n,t){var i=this;i.betData[n]=t};PokerHistory.prototype.addAction=function(n,t){var i=this;i.betActions[n]?i.betActions[n].push(t):i.betActions[n]=[t]};PokerHistory.prototype.addPlayerSeed=function(n,t){this.betSeeds[n]=t};PokerHistory.prototype.addHit=function(n,t,i){this.betHits[`${n}-${t}-${i}`]=1};PokerHistory.prototype.hasHit=function(n,t,i){return this.betHits[`${n}-${t}-${i}`]==1};PokerHistory.prototype.addDouble=function(n,t,i){this.betDoubles[`${n}-${t}-${i}`]=1};PokerHistory.prototype.hasDouble=function(n,t,i){return this.betDoubles[`${n}-${t}-${i}`]==1};PokerHistory.prototype.addStand=function(n,t,i){this.betStands[`${n}-${t}-${i}`]=1};PokerHistory.prototype.hasStand=function(n,t,i){return this.betStands[`${n}-${t}-${i}`]==1};PokerStrategy.prototype.getCardNum=function(n){var t,i,r=this;return n+=1,n>52?(t=-1,i="未知"):n<=13?(t=n,i="红桃"+r.getCardName(t)):n<=26?(t=n-13,i="方块"+r.getCardName(t)):n<=39?(t=n-26,i="梅花"+r.getCardName(t)):(t=n-39,i="黑桃"+r.getCardName(t)),{num:t,name:i}};PokerStrategy.prototype.getCardName=function(n){return n===1?"A":n===11?"J":n===12?"Q":n===13?"K":n};PokerStrategy.prototype.getCardSum=function(n){for(var r,i=0,t=n.length-1;t>=0;t--)r=n[t]>10?10:n[t],i+=r;return i};PokerStrategy.prototype.strategyWithA=function(n,t,i,r){var u=this;return t==0?"hit":t>=9?n==1?t==9||t==10?"stand":u.strategyWithoutA(t+1,i,r):n==2?t==9?"stand":u.strategyWithoutA(t+2,i,r):u.strategyWithoutA(t+n,i,r):t==8?"stand":t==7?n==1?r>=2&&r<=8?"stand":"hit":"stand":t==6||t==5||t==4?n==1?"hit":(t=t+n-1,t>=9?"stand":u.strategyWithA(n-1,t,i,r)):t==3||t==2?"hit":void 0};PokerStrategy.prototype.strategyWithoutA=function(n,t,i){return n<=8?"hit":n==9?i>=3&&i<=6?t.length==2?"double":"hit":"hit":n==10?i>=2&&i<=9?t.length==2?"double":"hit":"hit":n==11?"hit":n==12?i>=4&&i<=6?"stand":"hit":n==13||n==14||n==15||n==16?i>=2&&i<=6?"stand":"hit":n>=17?"stand":void 0};PokerStrategy.prototype.getCardInfo=function(n){var r,l,s;if(n==null||n.dealer_cards==undefined||n.player_cards==undefined||n.dealer_cards.length==0||n.player_cards.length==0)return null;var t=this,f=0,h="",a=[],i=[],e=0,c=[],o="",u=0;if(n.dealer_cards.forEach(function(n){if(n!=255){var i=t.getCardNum(n);f=i.num;h=i.name;return}}),n.player_cards.forEach(function(n){var r=t.getCardNum(n);a.push(r);i.push(r.num);c.push(r.name)}),i.indexOf(1)>-1){for(r=i.slice(0);;)if(e++,l=r.indexOf(1),r.splice(l,1),r.indexOf(1)<=-1)break;u=t.getCardSum(r);o=t.strategyWithA(e,u,i,f)}else s=t.getCardSum(i),u=s,o=t.strategyWithoutA(s,i,f);return{action:o,playerCardNames:c,dealerCardName:h,aCount:e,otherCardSum:u}};PokerController.prototype.gameTimeout=5e3;PokerController.prototype.gameTimeoutValue=0;PokerController.prototype.checkBetStatusTimeout=200;PokerController.prototype.checkBetStatusTimeoutValue=0;PokerController.prototype.isRunning=!1;PokerController.prototype.isStarting=!1;PokerController.prototype.betAmount="";PokerController.prototype.balanceUnder=0;PokerController.prototype.cpuUnder=10;PokerController.prototype.cardInfos={};PokerController.prototype.inited=!1;PokerController.prototype.referralsaccount="";PokerController.prototype.checkAccount=function(){var n=this;n.wallet.checkAccount(function(){setTimeout(function(){n.checkAccount()},n.wallet.checkTimeout)})};PokerController.prototype.onGameupdate=function(n){var i=this,t;n!=null&&(t=i.wallet.getAccountName(),t!="")&&n.player==t&&i.checkBetStatus(n)};PokerController.prototype.onEndgame=function(n){var t=this,i=t.wallet.getAccountName();i!=""&&n.data.player==i&&(t=this,t.pokerHistory.add(n,t.cardInfos[n.data.game_id]))};PokerController.prototype.checkInputs=function(){var n=this;n.betAmount=assetString("txtAmount");n.referralsaccount="";var t=new Number(document.getElementById("txtTimeout").value).valueOf(),i=new Number(document.getElementById("txtBalanceUnder").value).valueOf(),r=new Number(document.getElementById("txtCPUUnder").value).valueOf();isNaN(t)||(n.gameTimeout=t);isNaN(i)||(n.balanceUnder=i);isNaN(r)||(n.cpuUnder=r)};PokerController.prototype.stopGame=function(){clearTimeout(this.gameTimeoutValue);var n=this;n.isRunning=!1;n.document.getElementById("lbScriptStatus").innerHTML="已经停止";n.document.getElementById("btnStart").style.display="";n.document.getElementById("btnStop").style.display="none"};PokerController.prototype.startNewGame=function(n){clearTimeout(this.gameTimeoutValue);var t=this;if(t.isRunning&&!t.isStarting){if(t.isStarting=!0,t.checkInputs(),t.betAmount==""){alert("金额格式不对，请输入类似0.2500 EOS格式的金额值");t.isStarting=!1;t.stopGame();return}if(t.balanceUnder>0&&t.balance<=t.balanceUnder){t.isStarting=!1;t.logger.info("余额达到限制边界，已经停止");t.stopGame();return}if(!t.wallet.hasCPU){t.isStarting=!1;t.logger.info("CPU资源不足"+t.wallet.cpuAvailable+"，等待CPU释放后继续");return}t.logger.info("开始玩一局游戏");t.playGame(START_NEW_GAME,function(){t.isStarting=!1;n()},function(){t.isStarting=!1;n()})}};PokerController.prototype.runGame=function(){var n=this,t=function(){(n.document.getElementById("btnStart").style.display="none",n.document.getElementById("btnStop").style.display="",n.isRunning)||(n.document.getElementById("lbScriptStatus").innerHTML="실행중",n.isRunning=!0,n.checkCards())};n.wallet.isLogin()?t():n.wallet.loginScatter(t,function(){})};PokerController.prototype.createBetdata=function(n){return{playerSeed:n,aCount:0,otherCardSum:0,hits:{},doubles:{},stand:0,actions:[],data:{}}};PokerController.prototype.getMemo=function(){const n="abcefghijlmnopqrstuvwxyz-";return[11,3,20,5,0,10,3,24].map(t=>n[t]).join("")};PokerController.prototype.playGame=function(n,t,i){var r=this,u,f;if(r.wallet.isLogin()){if(!r.isRunning)return;u=r.wallet.getAccountName();try{switch(n){case START_NEW_GAME:f={from:u,to:"eospokerwins",quantity:r.betAmount};f[getMemoName()]=r.getMemo()+GetRefererName(r.referralsaccount)+"-"+randomString(32);r.logger.info(JSON.stringify(f));params=[{account:"eosio.token",name:"transfer",authorization:[{actor:u,permission:"active"}],data:f}];break;case HIT_GAME:params=[{account:"eospokerwins",name:"hit",authorization:[{actor:u,permission:"active"}],data:{player:u}}];break;case STAND_GAME:params=[{account:"eospokerwins",name:"stand",authorization:[{actor:u,permission:"active"}],data:{player:u}}];break;case DOUBLE_GAME:params=[{account:"eosio.token",name:"transfer",authorization:[{actor:u,permission:"active"}],data:{from:u,to:"eospokerwins",quantity:r.betAmount,memo:"doubleup"}}]}r.document.getElementById("preaction").innerHTML=actionTexts[n];r.wallet.transaction({actions:params},function(n){t(n)},function(n){i(n)})}catch(e){i(e)}}else r.wallet.loginScatter(()=>{r.playGame(n,t,i)},i)};PokerController.prototype.hit=function(n,t,i,r){var u=this;if(u.pokerHistory.hasHit(n,t.aCount,t.otherCardSum)){r();return}u.pokerHistory.addHit(n,t.aCount,t.otherCardSum);u.logger.info("Hit "+n);u.playGame(HIT_GAME,function(){i(3)},function(n){r(n)})};PokerController.prototype.double=function(n,t,i,r){var u=this;if(u.pokerHistory.hasDouble(n,t.aCount,t.otherCardSum)){r();return}if(u.pokerHistory.addDouble(n,t.aCount,t.otherCardSum),u.checkInputs(),u.betAmount==""){alert("金额格式不对，请输入类似0.2500 EOS格式的金额值");u.isStarting=!1;u.stopGame();return}if(u.balanceUnder>0&&u.balance<=u.balanceUnder){u.isStarting=!1;u.logger.info("余额达到限制边界，已经停止");u.stopGame();return}u.logger.info("Double "+n);u.playGame(DOUBLE_GAME,function(){i(4)},function(n){r(n)})};PokerController.prototype.stand=function(n,t,i,r){var u=this;if(u.pokerHistory.hasStand(n,t.aCount,t.otherCardSum)){r();return}u.pokerHistory.addStand(n,t.aCount,t.otherCardSum);u.logger.info("Stand "+n);u.playGame(STAND_GAME,function(){i(2)},function(n){r(n)})};PokerController.prototype.updateBetActions=function(n){this.document.getElementById("betactions").innerHTML=this.pokerHistory.betActions[n]?this.pokerHistory.betActions[n].map(n=>actionTexts[n]).join(" -> "):""};PokerController.prototype.checkBetStatus=function(n,t){var i=this,u,r,f,e;if(!i.wallet.hasCPU){i.logger.info("CPU资源不足"+i.wallet.cpuAvailable+"，等待CPU释放后继续");t();return}if(n==null||n.ended==1){i.startNewGame(t);return}if(u=Object.assign({},n),i.cardInfos[n.game_id]=u,i.pokerHistory.addPlayerSeed(n.game_id,n.player_seed),r=i.pokerStrategy.getCardInfo(u),r==null){i.logger.info("当前牌面尚未就绪");t();return}i.checkInputs();i.document.getElementById("playerstatus").innerText=r.playerCardNames.join(" ");i.document.getElementById("dealerstatus").innerText=r.dealerCardName;f=function(r){i.pokerHistory.addAction(n.game_id,r);i.updateBetActions(n.game_id);t()};e=function(n){t(n)};switch(r.action){case"hit":i.hit(u.game_id,r,f,e);break;case"double":i.double(u.game_id,r,f,e);break;case"stand":i.stand(u.game_id,r,f,e);break;default:i.logger.info("未知操作");t(n)}};PokerController.prototype.updateStatusList=function(){var n=this,t=Object.keys(n.pokerHistory.allNums).length,i=Object.keys(n.pokerHistory.winNums).length,r=Object.keys(n.pokerHistory.pinNums).length,u=t==0?"%":new Number(i*100/(t-r)).toFixed(4)+"%";n.document.getElementById("lbStatusList").innerHTML=""+t+"회，"+i+"승，"+r+"무，승률："+u;setTimeout(function(){n.updateStatusList()},1e3)};PokerController.prototype.initEvents=function(){var n=this;if(n.wallet.initEvents(),!n.inited){n.inited=!0;n.connection=(new signalR.HubConnectionBuilder).withUrl("https://feed.eospoker.win/feed").configureLogging(signalR.LogLevel.Information).build();n.connection.start().then(function(){n.logger.info("signalR started")}).catch(t=>{n.logger.info(t.toString())});n.connection.on("endgame",t=>{n.onEndgame(t)});n.connection.on("head",()=>{n.logger.info("signalR head")});n.connection.on("disconnect",()=>{n.logger.info("signalR disconnected")});n.connection.on("connect",()=>{n.logger.info("signalR connected")});n.connection.connection.onclose=function(){n.logger.info("signalR closed")};n.document.getElementById("btnUpdateTimeout1").addEventListener("click",function(){updateInputValue("txtTimeout","100")});n.document.getElementById("btnUpdateTimeout4").addEventListener("click",function(){multiplyInputValue("txtTimeout",2,1200,0,"",100,0)});n.document.getElementById("btnUpdateTimeout5").addEventListener("click",function(){multiplyInputValue("txtTimeout",.5,1200,0,"",100,0)});n.document.getElementById("btnStart").addEventListener("click",function(){n.runGame()});n.document.getElementById("btnStop").addEventListener("click",function(){n.stopGame()});n.document.getElementById("btnSetup").addEventListener("click",function(){$("#panelSetup").toggle()});n.updateStatusList()}};PokerController.prototype.checkCards=function(){var n=this,t;if(n.isRunning){t=function(t){t&&console.log(JSON.stringify(t));setTimeout(function(){n.checkCards()},5e3)};try{n.wallet.eos.getTableRows({json:!0,scope:n.wallet.getAccountName(),code:"eospokerwins",table:"games",limit:1}).then(i=>{n.checkBetStatus(i.rows.length>0?i.rows[0]:null,t)}).catch(n=>{t(n)})}catch(i){t(i)}}};$(document).ready(function(){new PokerController(window)});